<!--  Extra Large modal example -->
<div
  class="modal fade salaireModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myExtraLargeModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title mt-0" id="myExtraLargeModalLabel">
          Paiement de salaires
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" id="details">
        <div class="row">
          <div class="col-lg-12">
            <div class="card" style="padding: 40px">
              <div class="card-body">
                <div class="invoice-title">
                  <h4 class="float-end font-size-16">
                    Etat
                    <span
                      id="No"
                      class="badge bg-danger hidden font-size-12 ms-2 refresh2"
                      >Pas Payé</span
                    >
                    <span
                      id="Oui"
                      class="badge bg-success hidden font-size-12 ms-2 refresh2"
                      >Payé</span
                    >
                  </h4>

                  <%- include('./entete.ejs') %>
                </div>

                <hr class="my-4" />

                <div class="row">
                  <div class="col-sm-6">
                    <div class="text-muted">
                      <div>
                        <h5 class="font-size-16 mb-1">Nom de l'agent:</h5>
                        <p id="nameAgent">--</p>
                      </div>
                      <div class="mt-4">
                        <h5 class="font-size-16 mb-1">Bank:</h5>
                        <p id="bank">--</p>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="text-muted text-sm-end">
                      <div class="mt-4">
                        <h5 class="font-size-16 mb-1">Paiement:</h5>
                        <p
                          id="fondPaiement"
                          class="badge bg-primary font-size-12 ms-2 refresh2"
                        >
                          --
                        </p>
                      </div>
                      <div>
                        <h5 class="font-size-16 mb-1">Montant:</h5>
                        <p id="montant">--</p>
                        $
                      </div>
                      <div class="mt-4">
                        <h5 class="font-size-16 mb-1">Date de paiement:</h5>
                        <p id="date">--</p>
                      </div>
                    </div>
                  </div>
                </div>

                <hr class="my-4" />

                <div class="py-2">
                  <h5 class="font-size-15">Commentaire</h5>

                  <p
                    id="comment"
                    style="text-align-last: left; text-align: justify"
                  >
                    --
                  </p>
                </div>

                <hr class="my-4" />
              </div>
            </div>
          </div>
        </div>
        <!-- end row -->
      </div>
      <div class="modal-footer" data-html2canvas-ignore="true">
        <button
          type="button"
          class="btn btn-light waves-effect"
          data-bs-dismiss="modal"
        >
          Close
        </button>
        <button
          class="btn btn-success waves-effect waves-light me-1"
          onclick="doPdf()"
        >
          <i class="fa fa-print"></i>
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal -->


<script>
  const doPdf = () => {
    const element = document.getElementById('details');
    const opt = {
      margin: 0,
      filename: 'Rapport_de_paie_details.pdf',
      image: { type: 'jpeg', quality: 0.98 },
      html2canvas: { scale: 2 },
      jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' },
    };

    html2pdf().from(element).set(opt).save();
  };
</script>

